* { box-sizing: border-box; margin: 0; }
html, body { height: 100%; background: #0b0b0c; color: #f4f4f4; font-family: Inter, system-ui, Arial, sans-serif; }
section.scene { position: relative; height: 100vh; overflow: hidden; }
.bg {
  position: absolute; inset: 0; width: 100%; height: 100%;
  object-fit: cover; filter: brightness(0.75);
  transform: scale(1.05); /* 轻微放大，便于做视差 */
}
.bg-grad {
  background: radial-gradient(120% 80% at 50% 30%, #1d1f2a 0%, #0b0b0c 65%, #000 100%);
}

.text { position: absolute; left: 8vw; bottom: 12vh; max-width: 620px; }
h1, h2 { margin-bottom: 12px; font-family: "Playfair Display", serif; letter-spacing: .3px; }
p { line-height: 1.75; opacity: 0.92; }

.title { opacity: 0; transform: translateY(16px); } /* 初始状态，供GSAP动画 */

.btn {
  margin-top: 16px; padding: 10px 16px; border: 1px solid #fff; background: transparent; color: #fff;
  cursor: pointer; transition: .25s; border-radius: 999px;
}
.btn:hover { background: rgba(255,255,255,0.12); }
.btn-ghost { border-color: #aaa; color: #ddd; }

.topbar {
  position: fixed; top: 0; left: 0; right: 0; height: 56px;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 16px; backdrop-filter: blur(6px);
  background: linear-gradient(to bottom, rgba(10,10,12,.65), rgba(10,10,12,.1));
  z-index: 10;
}
.brand { font-weight: 700; letter-spacing: .4px; }
.controls { display: flex; align-items: center; gap: 12px; }

.progress {
  width: 160px; height: 4px; background: rgba(255,255,255,0.15); border-radius: 999px; overflow: hidden;
}
#progress-bar { display: block; height: 100%; width: 0%; background: #76e8ff; }

@media (max-width: 768px) {
  .text { left: 6vw; bottom: 10vh; max-width: 88vw; }
  h1, h2 { font-size: 1.35rem; }
  p { font-size: .95rem; }
}

.center {
    top: 50%; left: 50%; transform: translate(-50%, -50%);
    position: absolute; text-align: center;
  }
  .btn-large {
    font-size: 1.2rem; padding: 14px 28px; margin-top: 20px;
    border-radius: 999px; border: 1px solid #fff; background: transparent; color: #fff;
    transition: .3s;
  }
  .btn-large:hover { background: rgba(255,255,255,0.15); }

  /* Gallery 页面布局 */
.gallery-page {
    background: radial-gradient(circle at 50% 50%, #141414, #000);
    color: #fff;
    font-family: Inter, sans-serif;
    text-align: center;
    padding-top: 60px;
  }
  
  .gallery-header p { opacity: 0.8; margin-bottom: 40px; }
  
  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 24px;
    width: 90%;
    max-width: 1000px;
    margin: 0 auto 60px;
  }
  .item {
    position: relative;
    cursor: pointer;
    transition: transform .3s ease;
  }
  .item img {
    width: 100%; border-radius: 10px;
    filter: brightness(0.85);
    transition: filter .3s;
  }
  .item span {
    position: absolute; bottom: 12px; left: 0; right: 0;
    font-weight: 500; background: rgba(0,0,0,0.5); padding: 6px 0;
    border-radius: 0 0 10px 10px;
  }
  .item:hover { transform: translateY(-6px); }
  .item:hover img { filter: brightness(1); }
  
  /* 视频弹窗 */
  .modal {
    position: fixed; inset: 0; background: rgba(0,0,0,0.8);
    display: flex; align-items: center; justify-content: center;
    z-index: 50;
  }
  .modal.hidden { display: none; }
  .modal-content {
    position: relative; width: 80%; max-width: 720px;
  }
  .modal-content video {
    width: 100%; border-radius: 8px;
  }
  #closeModal {
    position: absolute; top: -12px; right: -12px;
    background: #fff; color: #000; border: none; border-radius: 50%;
    font-size: 20px; width: 32px; height: 32px; cursor: pointer;
  }

  /* —— 首页三屏差异化背景 —— */

/* P1 用图片时，无需特别处理；可轻微降亮： */
#p1 .bg { filter: brightness(0.8); }

/* P2 渐变背景（如需图片，改 index.html 为 <img class="bg" src="assets/bg_p2.jpg">） */
.bg-grad-p2 {
  position: absolute; inset: 0;
  background: radial-gradient(120% 85% at 50% 30%, #1e2040 0%, #0e0f17 65%, #000 100%);
}

/* P3 渐变背景（如需视频/图片可在 index.html 替换） */
.bg-grad-p3 {
  position: absolute; inset: 0;
  background: radial-gradient(120% 85% at 50% 30%, #10221f 0%, #0b0b0c 65%, #000 100%);
}

/* Gallery 布局（如果你已加过可忽略） */
.gallery-page { color:#fff; text-align:center; padding-top:60px; }
.gallery-header p { opacity:.85; margin-bottom: 40px; }
.gallery-grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:24px; width:90%; max-width:1000px; margin:0 auto 60px;
}
.item { position:relative; cursor:pointer; transition:.3s transform; }
.item img { width:100%; border-radius:10px; filter:brightness(.9); transition:.3s filter; }
.item span {
  position:absolute; left:0; right:0; bottom:12px; padding:6px 0;
  background:rgba(0,0,0,.45); border-radius:0 0 10px 10px; font-weight:500;
}
.item:hover { transform: translateY(-6px); }
.item:hover img { filter:brightness(1); }

/* 全屏遮罩 */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.85);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
  }
  
  /* 容器宽度 = 视口的 90%，最大 1280px；高度不超过 85vh */
  .modal-content {
    position: relative;
    width: min(90vw, 1280px);
    max-height: 85vh;
  }
  
  /* 视频自适应：宽度占满容器，高度不超过 85vh；背景黑避免白边 */
  .modal-content video {
    display: block;
    width: 100%;
    height: auto;
    max-height: 85vh;
    background: #000;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0,0,0,.6);
  }
  
  /* 关闭按钮 */
  #closeModal {
    position: absolute;
    top: -12px;
    right: -12px;
    width: 36px; height: 36px;
    border: none; border-radius: 50%;
    background: #fff; color: #000;
    font-size: 20px; cursor: pointer;
  }
  

/* 居中与大按钮（若已存在可忽略） */
.text.center { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); max-width:min(88vw,720px); text-align:center; z-index:2; }
.btn-large { font-size:1.2rem; padding:14px 28px; margin-top:20px; border-radius:999px; border:1px solid #fff; color:#fff; background:rgba(255,255,255,0.08); transition:.25s; }
.btn-large:hover { background:rgba(255,255,255,0.2); }

/* 直接给 gallery 页面设置背景图（固定、铺满） */
body.gallery-page {
    /* 如果你之前给 .gallery-page 设置过背景色，这里会覆盖掉 */
    background-image:
      linear-gradient(rgba(0,0,0,.25), rgba(0,0,0,.25)), /* 轻微压暗，想去掉就删这一行 */
      url("assets/bg12.JPG");
    background-position: center center;
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed; /* 背景随视口固定 */
  }

  /* 整体往上移一点，并留出底部空间 */
.gallery-page {
  padding-top: 36px;      /* 原来如果是 60px，可以减小到 36 或 24 */
  padding-bottom: 96px;   /* 底部留白，避免第二排贴底 */
}

/* 标题区域更紧凑一点 */
.gallery-header p { margin-bottom: 24px; }

/* 物品卡片：固定宽度，行内居中排列（你已有可保留） */
.gallery-grid { display:flex; flex-wrap:wrap; justify-content:center; gap:28px; max-width:1100px; margin:0 auto; }
.item { width:280px; text-align:center; }

/* 相框 + 不裁图（你已加过，可保留或覆盖） */
.item .photo {
  width:100%; height:220px;
  display:flex; align-items:center; justify-content:center;
  background: transparent;      /* 透明：让模糊背景透出 */
  border-radius:10px; overflow:hidden;
}
.item .photo img {
  max-width:100%; max-height:100%;
  object-fit: contain;          /* 不裁剪 */
  image-rendering:auto;
}

/* 标签：去掉半透明黑框，改为圆润童趣字体 */
.item .label {
  position: static;             /* 不覆盖在图片上 */
  display:block;
  margin-top:10px;
  padding:0;                    /* 去掉背景条的内边距 */
  background: transparent;      /* 关键：去掉半透明黑框 */
  color:#ffffff;
  font-family: "Baloo 2", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  font-weight:600;
  letter-spacing:.2px;
  text-shadow: 0 1px 2px rgba(0,0,0,.45); /* 为了在彩色背景上也清晰，可保留/减弱 */
  border-radius:0;
}

/* 覆盖老样式里可能残留的绝对定位和背景（确保写在文件末尾以覆盖） */
.item span { position: static !important; background: transparent !important; }

.future-page {
    font-family: 'Inter', sans-serif;
    color: #fff;
    overflow-x: hidden;
  }
  
  /* Section 1: 未来世界观 */
  .future-world {
    background: url('assets/future_bg.jpg') center/cover no-repeat;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }
  .future-world .overlay {
    background: rgba(0,0,0,0.55);
    padding: 3rem;
    border-radius: 20px;
    max-width: 800px;
    text-align: center;
    animation: fadeIn 2s ease;
  }
  @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
  
  /* Section 2: Storyboard 展示 */
  .storyboard {
    background: #f9f9f9;
    color: #111;
    text-align: center;
    padding: 4rem 1rem;
  }
  .storyboard-img {
    width: 85%;
    max-width: 1100px;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
    transition: transform 1.2s ease;
  }
  .storyboard-img:hover { transform: scale(1.05); }
  
  /* Section 3: 动画视频 */
  .video-showcase {
    background: #0d0d0d;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .video-showcase video {
    width: 80%;
    max-width: 900px;
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(255,200,180,0.3);
  }

  /* ---------- My Time Capsule (scroll) ---------- */
.capsule-page {
    color: #fff;
    background: #000;
    overflow-x: hidden;
    font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }
  
  .capsule-section {
    min-height: 100vh;
    position: relative;
    display: grid;
    place-items: center;
    padding: 3rem 1.2rem;
  }
  
  /* Section 1: Design concept */
  .concept { background: #000; }
  .concept-panel {
    max-width: 920px;
    background: rgba(0,0,0,0.85);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 18px;
    padding: 2.2rem 2rem;
    box-shadow: 0 10px 40px rgba(0,0,0,0.4);
  }
  .capsule-title {
    font-family: "Playfair Display", Georgia, serif;
    font-size: clamp(1.6rem, 2.8vw, 2.4rem);
    margin: 0 0 1rem;
    letter-spacing: .5px;
  }
  .capsule-intro {
    line-height: 1.8;
    color: #eee;
    font-size: clamp(1rem, 1.5vw, 1.1rem);
  }
  
  /* Section 2: Full-bleed concept image */
  .hero-image,
  .final {
    --bg: none;
    background: radial-gradient(transparent, rgba(0,0,0,.25)),
                var(--bg) center/cover no-repeat fixed;
  }
  .img-credit,
  .final-overlay {
    position: absolute;
    inset: auto 1rem 1rem auto;
    background: rgba(0,0,0,0.45);
    padding: .6rem .9rem;
    border-radius: 10px;
    font-size: .9rem;
  }
  
  /* Section 3: Process */
  .process { background: #0c0c0c; text-align: center; }
  .subhead { font-size: clamp(1.2rem, 2.2vw, 1.8rem); margin: 0 0 .5rem; font-family: "Playfair Display", serif; }
  .caption { color: #cfcfcf; margin-bottom: 1.4rem; }
  .process-img {
    width: min(1100px, 90vw);
    border-radius: 14px;
    display: block;
    margin-inline: auto;
    box-shadow: 0 20px 60px rgba(0,0,0,.45);
  }
  
  /* Section 4: Final piece */
  .final-title { margin: 0; font-size: clamp(1.4rem, 2.2vw, 2rem); font-family: "Playfair Display", serif; }
  .final .caption { margin-top: .4rem; color: #eee; }
  
  /* Floating back button */
  .back-floating { position: fixed; right: 16px; bottom: 16px; z-index: 10; }
  .btn-ghost {
    display: inline-block;
    padding: .6rem 1rem;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.5);
    color: #fff; text-decoration: none;
    background: rgba(0,0,0,.35);
    backdrop-filter: blur(6px);
    transition: .25s ease;
  }
  .btn-ghost:hover { transform: translateY(-2px); }
  
  /* Gentle fade-in */
  .concept-panel, .process-img, .final-overlay {
    opacity: 0; transform: translateY(12px);
    animation: fadeUp .8s ease .1s forwards;
  }
  @keyframes fadeUp { to {opacity:1; transform:none;} }
  
  /* base for .scene and layered backgrounds */
.scene { position: relative; min-height: 100vh; overflow: hidden; }
.scene .bg { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; }
.bg-grad-p2, .bg-grad-p3 {
  position: absolute; inset: 0;
  /* transparent gradient, not solid */
  background: radial-gradient(transparent, rgba(0,0,0,0.35));
  pointer-events: none;
}
